<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Settings - Opencast Moodle Plugins Documentation</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Settings", url: "#_top", children: [
              {title: "Instances", url: "#instances" },
              {title: "Prerequisites", url: "#prerequisites" },
              {title: "Instance Configurations", url: "#instance-configurations" },
              {title: "Maintenance Settings", url: "#maintenance-settings" },
              {title: "Connection test tool", url: "#connection-test-tool" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../block/about/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../block/about/" class="btn btn-xs btn-link">
        About
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../about/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../about/" class="btn btn-xs btn-link">
        About
      </a>
    </div>
    
  </div>

    

    <h1 id="settings">Settings</h1>
<p>The configuration settings of the plugin consist of the following sections:</p>
<h2 id="instances">Instances</h2>
<p>The plugin allows you to connect your Moodle instance to multiple Opencast instances. For each instance, you must configure the settings described below.</p>
<p>The configured instances are listed in the table under <strong><em>Opencast Instances</em></strong>. You can add new instances by clicking on the <strong><em>Add instance</em></strong> button.</p>
<p>Each instance is assigned an automatically generated, constant ID. Additionally, you can specify a custom name for each instance. The settings for each instance are displayed in a dedicated (sub-)section, labeled with the instance name.</p>
<p><strong>NOTE</strong>: The configuration (sub-)section for a newly added instance will be visible only after clicking <em>Save changes</em>. The same applies when deleting an instance.</p>
<p>Each instance offers additional configurable options:</p>
<ul>
<li>
<p><strong>Is visible to teachers</strong>: If enabled, videos from the corresponding instance are visible in the <em>Opencast Videos</em> block within a course. If disabled, the videos remain hidden.</p>
</li>
<li>
<p><strong>Default</strong>: There must be exactly one default instance. The default instance has the following properties:</p>
</li>
<li>It is selected automatically in plugins such as Opencast H5P Integration.</li>
<li>It takes precedence over other instances in dropdowns to select between instances.</li>
<li>It determines the allowed video file extensions for drag-and-drop uploads in course activity sections (with edit mode enabled).</li>
</ul>
<p><img alt="Tool Opencast Settings Instances" src="../../img/tool/instances.png" /></p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before configuring the Opencast API tool, a user must be created in Opencast with the following roles:</p>
<ul>
<li><code>ROLE_API</code></li>
<li><code>ROLE_API_*</code></li>
<li><code>ROLE_SUDO</code></li>
</ul>
<p>Once the user is created, it must be added to the group <code>Opencast Project External Applications</code> <em>(role <code>ROLE_GROUP_MH_DEFAULT_ORG_EXTERNAL_APPLICATIONS</code>)</em> or assigned the necessary API roles by other means.</p>
<p><strong>NOTE</strong>: The roles listed above are the minimum required; additional roles may be necessary, for example:</p>
<ul>
<li><code>ROLE_UI_EVENTS_EMBEDDING_CODE_VIEW</code>: Required for using the Opencast Filter plugin with LTI authentication in a multi-node Opencast instance.</li>
<li><code>ROLE_STUDIO</code>: Required for access to Opencast Studio.</li>
</ul>
<h2 id="instance-configurations">Instance Configurations</h2>
<p>Each instance has the following configuration options, displayed in a dedicated (sub-)section named after the instance:</p>
<ul>
<li>
<p><strong>Opencast API URL:</strong> The base URL of the Opencast system. If you have a multi-node Opencast setup, this should be the URL of the admin server. Provide the URL including <code>http://</code> or <code>https://</code> (e.g. <code>https://stable.opencast.org</code>)</p>
</li>
<li>
<p><strong>Username of API user:</strong> The username of the previously created Opencast user.</p>
</li>
<li>
<p><strong>Password of API user:</strong> The password of the previously created Opencast user.</p>
</li>
<li>
<p><strong>Overall API request execution timeout:</strong>: Timeout (in milliseconds) for API requests to Opencast. Set to "0" for no limit.</p>
</li>
<li>
<p><strong>Connection timeout:</strong> Timeout (in milliseconds) for Moodle to establish a connection with Opencast. Set to "0" for no limit.</p>
</li>
</ul>
<p>If you wish to use LTI for user authentication (e.g., for Opencast Studio or with <code>Secure Static Files</code> enabled), configure the following settings:</p>
<ul>
<li>
<p><strong>Consumer key:</strong> LTI Consumer key as set in Opencast.</p>
</li>
<li>
<p><strong>Consumer secret:</strong> LTI Consumer secret as set in Opencast.</p>
</li>
</ul>
<p>For LTI configuration details, see <a href="https://docs.opencast.org/r/16.x/admin/#configuration/ltimodule/#about-lti">LTI</a>.</p>
<p><img alt="Tool Opencast Settings Configurations" src="../../img/tool/configurations.png" /></p>
<h2 id="maintenance-settings">Maintenance Settings</h2>
<p>The maintenance settings section allows you to control access to Opencast during maintenance periods. Options include:</p>
<ul>
<li><strong>Maintenance mode</strong>: Choose between:</li>
<li>Disable: No maintenance.</li>
<li>Read Only: Access is restricted to reading data only.</li>
<li>
<p>Enable: Full access restriction.</p>
</li>
<li>
<p><strong>Notification Level</strong>: Define the severity of the maintenance message (Warning, Error, Information, Success).</p>
</li>
<li>
<p><strong>Maintenance Message</strong>: The notification message displayed during maintenance. If empty, a default generic message will be displayed.</p>
</li>
<li>
<p><strong>Maintenance starts at</strong>: The start date/time of maintenance.</p>
</li>
<li>
<p><strong>Maintenance ends at</strong>: The end date/time of maintenance.</p>
</li>
</ul>
<p><strong>NOTE</strong>: You can synchronize Opencast maintenance settings using the <em>Sync Opencast Maintenance Mode</em> button (feature pending implementation).</p>
<p><img alt="Tool Opencast Settings Maintenance" src="../../img/tool/maintenance.png" /></p>
<h2 id="connection-test-tool">Connection test tool</h2>
<p>You can verify your API user configuration by clicking the Connection Test Tool button. This tool checks if Moodle can successfully connect to Opencast and authenticate with the configured API user.</p>
<p><img alt="Tool Opencast Settings Connection test tool" src="../../img/tool/connection_test_tool.png" /></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../block/about/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../block/about/" class="btn btn-xs btn-link">
        About
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../about/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../about/" class="btn btn-xs btn-link">
        About
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/Opencast-Moodle/documentation/edit/master/docs/tool/settings.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>